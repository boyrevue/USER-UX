@prefix : <http://example.org/passport#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix insurance: <http://example.org/autoins#> .

# Passport Document Ontology
:PassportDocument a rdfs:Class ;
    rdfs:label "Passport Document"@en ;
    rdfs:label "Reisedokument"@de ;
    rdfs:comment "A passport document with all extractable fields" .

# Passport Fields - All available fields
:PassportField a rdfs:Class ;
    rdfs:label "Passport Field"@en ;
    rdfs:label "Reisepassfeld"@de .

# Personal Information Fields
:PersonalName a :PassportField ;
    rdfs:label "Personal Name"@en ;
    rdfs:label "Persönlicher Name"@de ;
    rdfs:comment "Full name as shown on passport" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.fullName" ;
    insurance:helpText "Full name as shown on your passport"@en ;
    insurance:helpText "Vollständiger Name wie im Reisepass angegeben"@de .

:GivenNames a :PassportField ;
    rdfs:label "Given Names"@en ;
    rdfs:label "Vornamen"@de ;
    rdfs:comment "First and middle names" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.firstName" ;
    insurance:helpText "Your first and middle names"@en ;
    insurance:helpText "Ihre Vor- und Zweitnamen"@de .

:Surname a :PassportField ;
    rdfs:label "Surname"@en ;
    rdfs:label "Nachname"@de ;
    rdfs:comment "Family name" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.lastName" ;
    insurance:helpText "Your family name"@en ;
    insurance:helpText "Ihr Familienname"@de .

:DateOfBirth a :PassportField ;
    rdfs:label "Date of Birth"@en ;
    rdfs:label "Geburtsdatum"@de ;
    rdfs:comment "Date of birth in YYYY-MM-DD format" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.dateOfBirth" ;
    insurance:helpText "Your date of birth"@en ;
    insurance:helpText "Ihr Geburtsdatum"@de .

:PlaceOfBirth a :PassportField ;
    rdfs:label "Place of Birth"@en ;
    rdfs:label "Geburtsort"@de ;
    rdfs:comment "City and country of birth" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.placeOfBirth" ;
    insurance:helpText "City and country where you were born"@en ;
    insurance:helpText "Stadt und Land, in dem Sie geboren wurden"@de .

:Gender a :PassportField ;
    rdfs:label "Gender"@en ;
    rdfs:label "Geschlecht"@de ;
    rdfs:comment "M, F, or X" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.gender" ;
    insurance:helpText "Your gender as shown on passport"@en ;
    insurance:helpText "Ihr Geschlecht wie im Reisepass angegeben"@de .

:Nationality a :PassportField ;
    rdfs:label "Nationality"@en ;
    rdfs:label "Staatsangehörigkeit"@de ;
    rdfs:comment "Country of nationality" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.nationality" ;
    insurance:helpText "Your nationality"@en ;
    insurance:helpText "Ihre Staatsangehörigkeit"@de .

# Passport Document Information
:PassportNumber a :PassportField ;
    rdfs:label "Passport Number"@en ;
    rdfs:label "Reisepassnummer"@de ;
    rdfs:comment "Unique passport identifier" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.passportNumber" ;
    insurance:helpText "Your passport number"@en ;
    insurance:helpText "Ihre Reisepassnummer"@de .

:DateOfIssue a :PassportField ;
    rdfs:label "Date of Issue"@en ;
    rdfs:label "Ausstellungsdatum"@de ;
    rdfs:comment "When passport was issued" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.passportIssueDate" ;
    insurance:helpText "Date when your passport was issued"@en ;
    insurance:helpText "Datum, an dem Ihr Reisepass ausgestellt wurde"@de .

:DateOfExpiry a :PassportField ;
    rdfs:label "Date of Expiry"@en ;
    rdfs:label "Ablaufdatum"@de ;
    rdfs:comment "When passport expires" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.passportExpiryDate" ;
    insurance:helpText "Date when your passport expires"@en ;
    insurance:helpText "Datum, an dem Ihr Reisepass abläuft"@de .

:Authority a :PassportField ;
    rdfs:label "Issuing Authority"@en ;
    rdfs:label "Ausstellende Behörde"@de ;
    rdfs:comment "Government authority that issued the passport" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.passportAuthority" ;
    insurance:helpText "Government authority that issued your passport"@en ;
    insurance:helpText "Regierungsbehörde, die Ihren Reisepass ausgestellt hat"@de .

# Address Information
:Address a :PassportField ;
    rdfs:label "Address"@en ;
    rdfs:label "Adresse"@de ;
    rdfs:comment "Full address as shown on passport" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.address" ;
    insurance:helpText "Your address as shown on passport"@en ;
    insurance:helpText "Ihre Adresse wie im Reisepass angegeben"@de .

# Document Processing Information
:DocumentType a :PassportField ;
    rdfs:label "Document Type"@en ;
    rdfs:label "Dokumenttyp"@de ;
    rdfs:comment "Type of document (e.g., Passport, ID Card)" ;
    insurance:isRequiredForInsurance false ;
    insurance:helpText "Type of identification document"@en ;
    insurance:helpText "Art des Ausweisdokuments"@de .

:DocumentCountry a :PassportField ;
    rdfs:label "Document Country"@en ;
    rdfs:label "Dokumentland"@de ;
    rdfs:comment "Country that issued the document" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.passportIssuingCountry" ;
    insurance:helpText "Country that issued this document"@en ;
    insurance:helpText "Land, das dieses Dokument ausgestellt hat"@de .

:IssuingCountry a :PassportField ;
    rdfs:label "Issuing Country"@en ;
    rdfs:label "Ausstellungsland"@de ;
    rdfs:comment "Country that issued the passport (from MRZ)" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.passportIssuingCountry" ;
    insurance:helpText "Country that issued your passport"@en ;
    insurance:helpText "Land, das Ihren Reisepass ausgestellt hat"@de ;
    insurance:mrzField true ;
    insurance:countryCodeMapping true .

# SHACL Shapes for Validation
:PassportShape a sh:NodeShape ;
    sh:targetClass :PassportDocument ;
    sh:property [
        sh:path :PersonalName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:message "Personal name is required"@en ;
        sh:message "Persönlicher Name ist erforderlich"@de
    ] ;
    sh:property [
        sh:path :DateOfBirth ;
        sh:datatype xsd:date ;
        sh:minCount 1 ;
        sh:message "Date of birth is required"@en ;
        sh:message "Geburtsdatum ist erforderlich"@de
    ] ;
    sh:property [
        sh:path :PassportNumber ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:message "Passport number is required"@en ;
        sh:message "Reisepassnummer ist erforderlich"@de
    ] ;
    sh:property [
        sh:path :DateOfExpiry ;
        sh:datatype xsd:date ;
        sh:minCount 1 ;
        sh:message "Expiry date is required"@en ;
        sh:message "Ablaufdatum ist erforderlich"@de
    ] .

# Document Processing Rules
:DocumentProcessingRule a rdfs:Class ;
    rdfs:label "Document Processing Rule"@en ;
    rdfs:label "Dokumentverarbeitungsregel"@de .

:PassportProcessingRule a :DocumentProcessingRule ;
    rdfs:label "Passport Processing Rule"@en ;
    rdfs:label "Reisepassverarbeitungsregel"@de ;
    insurance:documentType "passport" ;
    insurance:extractionMethod "OCR" ;
    insurance:confidenceThreshold 0.8 ;
    insurance:autoCreateDriver true ;
    insurance:matchByName true ;
    insurance:updateExistingFields true ;
    insurance:createNewDriverIfNotFound true .


